{% load filters %}
{% for q in questions %}
<div class="question-content uk-animation-slide-left-small" id="question{{q.question.id}}">
<div class="question-block">
<a href="{% url 'core:view' slug=q.question.category.slug pk=q.question.id %}" class="question-title is-link">{{ q.question.title }}</a>
<div class="question-block-inner">
<div class="question-author">
<img src="{{ q.by.avatar.url }}" alt="{{ q.by.username }}'s picture">
<div class="meta">
<span>{{ q.by.name }} <span class="username">#{{ q.by.username }}</span></span>
<span>{{ q.created_at|custom_date }}</span>
</div>
</div>

<div class="question-text">
{% if q.content|length >= 25 %}
<p>{{ q.content|slice:25 }}<span class="dots">...</span><span class="full">{% slice_text q.content start=25 end=q.content|length %}</span> <span class="see-more">See more</span></p>
{% else %}
<p> {{ q.content }} </p>
{% endif %}
</div>
<div class="question-footer">
<div class="likes">
<svg role="img" class="icon icon--16" viewBox="0 0 24 24"><path d="M12,21 L10.55,19.7051771 C5.4,15.1242507 2,12.1029973 2,8.39509537 C2,5.37384196 4.42,3 7.5,3 C9.24,3 10.91,3.79455041 12,5.05013624 C13.09,3.79455041 14.76,3 16.5,3 C19.58,3 22,5.37384196 22,8.39509537 C22,12.1029973 18.6,15.1242507 13.45,19.7149864 L12,21 Z"></path></svg>
<span>{{ q.likes.count }}</span>
</div>
{% if q.accepted %}
<div class="answers-count">
<svg role="img" class="icon icon--16" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" aria-labelledby="accepted-icon">
<title id="accepted-icon">Accepted</title>
<polyline points="4 13 9 18 20 7"></polyline>
</svg>
<span> Accepted </span>
</div>
{% endif %}
</div>
</div>
</div>
</div>
{% empty %}
<div class="ui-comment-container flex relative w-full">
<div class="ui-no-contents p-4">
{% if user.username == request.user.username %}
<h2 class="text-xl font-bold">You haven't posted an answer to a question yet.</h2>
<div class="mt-2"><p>Your answers to questions will show up here.</p></div>
{% else %}
<h3 class="text-xl font-bold">@{{user.username}} hasn't posted an answer to a question yet.</h3>
<div class="mt-2"><p> Once they do, those answers will show up here.</p></div>
{% endif %}
</div>
</div>
{% endfor %}